(()=>{var e={};e.id=636,e.ids=[636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1428:e=>{"use strict";e.exports=import("axios")},2015:e=>{"use strict";e.exports=require("react")},2280:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{F:()=>d});var s=t(8732),i=t(6220),n=t(3781),o=t(6755),c=e([n]);n=(c.then?(await c)():c)[0];let d=()=>{let e=(0,i.useRouter)(),r=async()=>{try{await n.y.logout(),e.push("/login")}catch(e){console.error("Logout failed:",e)}};return(0,s.jsx)("nav",{className:"bg-white shadow p-4 border-b border-gray-200 sticky top-0 z-40",children:(0,s.jsx)("div",{className:"container mx-auto",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)("span",{onClick:()=>e.push("/dashboard"),className:"text-xl font-bold cursor-pointer hover:text-gray-700 transition-colors text-black select-none",children:"Warkop"}),(0,s.jsx)(o.$,{onClick:r,className:"text-sm font-medium text-gray-700 hover:text-gray-900",children:"Logout"})]})})})};a()}catch(e){a(e)}})},2386:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{default:()=>l});var s=t(8732);t(7549);var i=t(3864),n=t.n(i),o=t(6542),c=t(4062),d=t(7008),u=e([o,c,d]);function l({Component:e,pageProps:r}){return(0,s.jsx)("div",{className:n().className,children:(0,s.jsx)(c.Provider,{store:d.M,children:(0,s.jsx)(o.A,{children:(0,s.jsx)(e,{...r})})})})}[o,c,d]=u.then?(await u)():u,a()}catch(e){a(e)}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3781:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{y:()=>c});var s=t(6958),i=t(7887),n=t(6338),o=e([s,i,n]);[s,i,n]=o.then?(await o)():o;let c={async login(e,r){try{let t=await (0,s.signInWithEmailAndPassword)(i.j,e,r),a=await t.user.getIdToken();return n.default.set("token",a,{path:"/",sameSite:"lax",expires:7}),console.log("Token stored in cookie:",!!n.default.get("token")),t}catch(e){throw Error(e.message||"Login failed")}},async register(e,r){try{let t=await (0,s.createUserWithEmailAndPassword)(i.j,e,r),a=await t.user.getIdToken();return n.default.set("token",a,{path:"/",sameSite:"lax",expires:7}),t}catch(e){throw Error(e.message||"Registration failed")}},async logout(){try{await (0,s.signOut)(i.j),n.default.remove("token",{path:"/"})}catch(e){throw Error(e.message||"Logout failed")}},getToken(){let e=n.default.get("token");return console.log("Getting token from cookie:",!!e),e},isAuthenticated(){return!!this.getToken()}};a()}catch(e){a(e)}})},3885:(e,r,t)=>{"use strict";e.exports=t(361)},3900:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{D:()=>c});var s=t(1428),i=e([s]);s=(i.then?(await i)():i)[0];let n=process.env.NEXT_PUBLIC_BACKEND_API_URL||"http://localhost:3000",o=e=>({headers:{Authorization:`Bearer ${e}`}}),c={getAllUsers:async e=>{try{return(await s.default.get(`${n}/api/users`,o(e))).data}catch(e){throw console.error("Error fetching all users:",e),e}},getUserById:async(e,r)=>{try{return(await s.default.get(`${n}/api/users/${e}`,o(r))).data}catch(e){throw console.error("Error fetching user data by ID:",e),e}},createUser:async(e,r)=>{try{return(await s.default.post(`${n}/api/users`,e,o(r))).data}catch(e){throw console.error("Error creating user:",e),e}},updateUser:async(e,r,t)=>{try{return(await s.default.put(`${n}/api/users/${e}`,r,o(t))).data}catch(e){throw console.error("Error updating user:",e),e}},deleteUser:async(e,r)=>{try{await s.default.delete(`${n}/api/users/${e}`,o(r))}catch(e){throw console.error("Error deleting user:",e),e}}};a()}catch(e){a(e)}})},4062:e=>{"use strict";e.exports=import("react-redux")},6338:e=>{"use strict";e.exports=import("js-cookie")},6542:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{A:()=>c});var s=t(8732),i=t(6220),n=t(2280),o=e([n]);function c({children:e}){let r=(0,i.usePathname)();return(0,s.jsxs)(s.Fragment,{children:["/login"!==r&&"/register"!==r&&(0,s.jsx)(n.F,{}),e]})}n=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},6551:e=>{"use strict";e.exports=import("firebase/app")},6755:(e,r,t)=>{"use strict";t.d(r,{$:()=>s});var a=t(8732);t(2015);let s=({className:e="",fullWidth:r,...t})=>(0,a.jsx)("button",{className:`px-6 py-2.5 bg-black text-white rounded-lg hover:bg-gray-900 flex items-center gap-2 font-medium transition-colors ${r?"w-full":""} ${e}`,...t})},6817:e=>{"use strict";e.exports=import("@reduxjs/toolkit")},6958:e=>{"use strict";e.exports=import("firebase/auth")},7008:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{M:()=>o});var s=t(6817),i=t(7902),n=e([s,i]);[s,i]=n.then?(await n)():n;let o=(0,s.configureStore)({reducer:{user:i.Ay}});a()}catch(e){a(e)}})},7286:(e,r)=>{"use strict";function t(e){return"("===e[0]&&e.endsWith(")")}function a(e){return e.startsWith("@")&&"@children"!==e}function s(e,r){if(e.includes(i)){let e=JSON.stringify(r);return"{}"!==e?i+"?"+e:i}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{DEFAULT_SEGMENT_KEY:function(){return n},PAGE_SEGMENT_KEY:function(){return i},addSearchParamsIfPageSegment:function(){return s},isGroupSegment:function(){return t},isParallelRouteSegment:function(){return a}});let i="__PAGE__",n="__DEFAULT__"},7549:()=>{},7887:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{j:()=>d});var s=t(6551),i=t(6958),n=e([s,i]);[s,i]=n.then?(await n)():n;let o={apiKey:"AIzaSyDcm8lG6n_HS0NMU1HRJY3peorpi_3dRVY",authDomain:"lumbungdemo.firebaseapp.com",projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:"lumbungdemo.firebasestorage.app",messagingSenderId:"38021939684",appId:"1:38021939684:web:dce6895a077c58c2bb87f1"},c=(0,s.initializeApp)(o),d=(0,i.getAuth)(c);a()}catch(e){a(e)}})},7902:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{Ay:()=>w});var s=t(6817),i=t(3900),n=e([s,i]);[s,i]=n.then?(await n)():n;let o=(0,s.createAsyncThunk)("user/fetchAllUsers",async(e,{rejectWithValue:r})=>{try{return await i.D.getAllUsers(e)}catch(e){return r(e.message||"Failed to fetch users")}}),c=(0,s.createAsyncThunk)("user/createUser",async({userData:e,token:r},{rejectWithValue:t})=>{try{return await i.D.createUser(e,r)}catch(e){return t(e.message||"Failed to create user")}}),d=(0,s.createAsyncThunk)("user/updateUser",async({userId:e,userData:r,token:t},{rejectWithValue:a})=>{try{return await i.D.updateUser(e,r,t)}catch(e){return a(e.message||"Failed to update user")}}),u=(0,s.createAsyncThunk)("user/deleteUser",async({userId:e,token:r},{rejectWithValue:t})=>{try{return await i.D.deleteUser(e,r),e}catch(e){return t(e.message||"Failed to delete user")}}),l=(0,s.createSlice)({name:"user",initialState:{users:[],isLoading:!1,error:null},reducers:{addUserOptimistic:(e,r)=>{e.users.push(r.payload)},updateUserOptimistic:(e,r)=>{let t=e.users.findIndex(e=>e.id===r.payload.id);-1!==t&&(e.users[t]=r.payload)},removeUserOptimistic:(e,r)=>{e.users=e.users.filter(e=>e.id!==r.payload)},clearError:e=>{e.error=null},setError:(e,r)=>{e.error=r.payload},setLoading:(e,r)=>{e.isLoading=r.payload},resetState:e=>{e.users=[],e.isLoading=!1,e.error=null}},extraReducers:e=>{e.addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload}).addCase(o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch users",e.users=[]}).addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,r)=>{e.isLoading=!1,e.users.push(r.payload)}).addCase(c.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create user"}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.isLoading=!1;let t=e.users.findIndex(e=>e.id===r.payload.id);-1!==t&&(e.users[t]=r.payload)}).addCase(d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update user"}).addCase(u.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(e=>e.id!==r.payload)}).addCase(u.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete user"})}}),{addUserOptimistic:p,updateUserOptimistic:g,removeUserOptimistic:h,clearError:y,setError:f,setLoading:m,resetState:x}=l.actions,w=l.reducer;a()}catch(e){a(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[963],()=>t(2386));module.exports=a})();